<!doctype html>
<html>
  <head>
    <title>Enyo Unit Test Suite</title>

    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1.0, maximum-scale=1.0" />

    <script type="text/javascript">
      window.DEVELOPMENT_MODE = false;
    </script>

    <script src="enyo/enyo.js" type="text/javascript"></script>
    <script src="package.js" type="text/javascript"></script>
    <script src="enyo/tools/test/core/test.js" type="text/javascript"></script>
    <link href="enyo/tools/test/core/test.css" rel="stylesheet" type="text/css" />
    <script src="enyo/tools/test/core/tests/package.js" type="text/javascript"></script>
    <script src="test.js" type="text/javascript"></script>

  </head>
  <body>
  <script type="text/javascript">
    // doens't work. try later with new release?
    //XT.app = new enyo.TestRunner();
    //XT.app.renderInto(document.body);


  XT.app = new enyo.Control();
  XT.app.createComponent({ kind: "XV.NumberWidget", name: "num" });
  var testObj = XT.app.$.num;

  testObj.setValue("10");
  console.log(typeof testObj.getValue() === 'number');

  testObj.setValue(4.5);
  console.log(testObj.getValue() === 4.5);

  testObj.setValue('');
  console.log(testObj.getValue() === null);

  testObj.setValue(null);
  console.log(testObj.getValue() === null);

  testObj.setValue("-4.3");
  console.log(testObj.getValue() === -4.3);

  testObj.setValue("inval");
  console.log(testObj.getValue() === null);

  testObj.setValue(0);
  console.log(testObj.getValue() === 0);

  XT.app.createComponent({ kind: "XV.DropdownWidget", name: "dropdown" });
  testObj = XT.app.$.dropdown;

  testObj.setModelType("XM.projectStatuses");

  testObj.setValue("XYZ");
  console.log(testObj.getValue() === undefined);

  testObj.setValue("O");
  console.log(testObj.getValue() === "O");

  // keep the old value if the new value is invalid
  testObj.setValue("XYZ");
  console.log(testObj.getValue() === "O");
  </script>
  </body>
</html>
