
// require some core modules
var UTIL    = require("util");
var PATH    = require("path");

// load into module namespace from above
require("tools");
require("exception");
require("store");

// load into module namespace from level
require("record");

XT.ContactCharacteristic = XT.Record.extend({

  definition: {

    // sproutcore record equivalent
    sctype: "XT.ContactCharacteristic",

    // postgres table
    table: "charass",

    // postgres schema
    schema: "public",

    // postgres sequence
    sequence: "charass_charass_id_seq",

    // fields as columns
    fields: {
      
      //....................................
      // sproutcore fields
      
      guid:           "charass_id",

      target:         "charass_target_id",

      targetType:     "charass_target_type",

      characteristic: "charass_char_id",

      value:          "charass_value"
    },

    //....................................
    // toOne mappings

    toOne: {

      characteristic: XT.Record.toOne({
                      self:     "XT.ContactCharacteristic",
                      relation: "XT.Characteristic",
                      on:       "charass_char_id",
                      to:       "guid"
                    }),
    }


  }, // definition

  xtClass: "XT.ContactCharacteristic",

});

XT.Store.recordManager.emit("definitionLoaded", XT.ContactCharacteristic);
