
// require some core modules
var UTIL    = require("util");
var PATH    = require("path");

// load into module namespace from above
require("tools");
require("exception");
require("store");
require("functor");

XT.PingFunctor = XT.Functor.create({

  exec: function(xtResponse) {
    this.emit("action", xtResponse);
  },

  action: function(xtResponse) {
    var chance = (function() {
      return (~~(Math.random() * 9)) % 2 === 0;
    })();
    chance = true;
    if(chance) {
      XT.puts("Oh, alright I'll send a response => {0}".format(chance));
      xtResponse.set("nonRecord");
      xtResponse.end("");
    } else { XT.puts("Decided not to send a response"); }
  },

  xtClass: "XT.PingFunctor",

});

process.emit("loadedFunctor", XT.PingFunctor);
