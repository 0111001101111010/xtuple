
// require some core modules
var UTIL    = require("util");
var PATH    = require("path");
var CRYP    = require("crypto");

// load into module namespace from above
require("tools");

/** @private
  The following are for development purposes and are not
  intended for production. Also note the "guid" is used
  but is really just creating a serialized unique identifier
  with no REAL protection against duplication. Its typical
  use-case is simply identifying the difference between
  two objects of the same type conveniently.
*/
XT.Tools.crypto = {
  
  /** @public */
  hash: function() {
    return CRYP
            .createHash("md5")
            .update(Math.random()
            .toString())
            .digest("hex");
  },

  /** @public */
  uuid: function() {
    return "{0}-{1}-{2}-{3}".format(
      this.hash().substring(0, 8),
      this.hash().substring(0, 4),
      this.hash().substring(0, 4),
      this.hash().substring(0, 12));
  },

  /** @public */
  guid: function(xtObj) {
    xtObj.guid = "{0}_{1}".format(
      xtObj.xtClass,
      this.hash().substring(0, 8));
  },

};
